<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/form.css"/>
  <title>paradox</title>
</head>
<body>
  <div id="overlay">
    <div id="startup">
      <div id="textfield">
        <div id="paradox">paradox</div>
        <div>When using this overlay, be sure to double-click on the browser source and check 'Control audio in OBS' from the property window that appears. Then, set the volume of the browser source to 0 from the OBS volume mixer. Right-click on the browser source and click 'Interact' to open a window where you can change overlay settings.</div>
        <br>
        <div>- Clicking inside the interactive window opens the settings screen.</div>
        <div>- Clicking on the top-right panel allows you to view player information in a bit more detail. (API key required.)</div>
        <div>- The numbers on the right side of the panel are increment values. Initially, the base is set to 0, so open the panel details, click on the  icon, and reset it to the current number.</div>
      </div>
      <form id="startupbottom">
        <label for="Dontshow" id="Dontshowcontainer" class="checkbox-label">
          <input type="checkbox" id="Dontshow" name="Dontshow" class="checkbox-input">
          <span id="Dontshowlabel" class="label">Don't show again.</span>
        </label>
        <button id="continue" class="custom-button">Continue</button>
      </form>
    </div>
    <form id="setting">

      <p>Setting</p>

          <label for="apikey" class="textbox">
            <span class="label">osu! API Key</span>
            <input type="password" id="apikey" onkeydown="handleKeyPress(event)" value="">
            <span id="apiconnect"></span>
          </label>

          <div class="commontext small">(You can obtain it by registering for the Legacy API from account settings in osu! website.)</div>

          <label for="enableaudiocapture" class="checkbox-label">
            <input type="checkbox" id="enableaudiocapture" name="enableaudiocapture" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel">Audio capture</span>
          </label>

          <label for="enableaudiovisualizer" class="checkbox-label">
            <input type="checkbox" id="enableaudiovisualizer" name="enableaudiovisualizer" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel">Audio visualizer<span class="small">&nbsp;(Audio capture is required.)</span></span>
          </label>

          <div class="radiocontainer">
            <span class="label">Accent color</span>
            <label for="Accentauto" class="radio-label">
                <input type="radio" id="Accentauto" name="accentColor" value="auto" class="radio-input" checked>
                <span class="custom-radio"></span>
                <span class="checklabel">Auto</span>
            </label>
            <label for="Accentcustom" class="radio-label">
                <input type="radio" id="Accentcustom" name="accentColor" value="custom" class="radio-input">
                <span class="custom-radio"></span>
                <span class="checklabel">Custom</span>
            </label>
          </div>
      
          <div class="inputcontainer" id="rgbpalette">
            <label for="Rslider" class="sliderlabel">R: <output id="outputR" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Rslider" name="Rslider" min="0" max="255" step="1" value="100">
          
            <label for="Gslider" class="sliderlabel">G: <output id="outputG" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Gslider" name="Gslider" min="0" max="255" step="1" value="100">
          
            <label for="Bslider" class="sliderlabel">B: <output id="outputB" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Bslider" name="Bslider" min="0" max="255" step="1" value="100">
          </div>

      <hr>

      <p>In Game</p>

          <label for="enablebackground" class="checkbox-label">
            <input type="checkbox" id="enablebackground" name="enablebackground" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">Background</span>
          </label>

          <div class="option" id="backgroundoptions">
            <label for="backgroundnormalizebrightness" class="checkbox-label">
              <input type="checkbox" id="backgroundnormalizebrightness" name="backgroundnormalizebrightness" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">Normalize brightness<span class="small">&nbsp;(recommend it's valid.)</span></span>
            </label>

            <div class="inputcontainer">
              <label for="backgroundopacity" class="sliderlabel">
                <span>Opacity:&nbsp;</span><output id="outputopacity" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(default: 30)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="opacity" name="opacity" min="0" max="100" step="1" value="0">
            
              <label for="backgroundblur" class="sliderlabel">
                <span>Blur radius:&nbsp;</span><output id="outputblur" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(default: 10)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="blur" name="blur" min="0" max="20" step="0.1" value="0">
              
              <label for="backgroundcontrast" class="sliderlabel">
                <span>Contrast:&nbsp;</span><output id="outputcontrast" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(default: 0.7)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="contrast" name="contrast" min="0" max="1" step="0.01" value="0">
            </div>
          </div>

          <label for="custompanelbg" class="textbox">
            <span class="label">Custom Panel BG<span class="small" style="display: none;">&nbsp;(Large files cannot be saved.)</span></span>
            <input type="file" class="file" name="custompanelbg" id="custompanelbg" style="display: none;">
            <span id="wrap"><span id="custompanelbgfilename" class="filename"></span></span>
            <span id="custompanelbgreset" class="file-reset-button"></span>
            <span for="custompanelbg" class="file-input-button">...</span>
            <span id="fileuploaded"></span>
          </label>


          <label for="enablehideinterface" class="checkbox-label">
            <input type="checkbox" id="enablehideinterface" name="enablehideinterface" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel">Hide interface when not in gameplay</span>
          </label>

          <label for="enablenotifybpmchanges" class="checkbox-label">
            <input type="checkbox" id="enablenotifybpmchanges" name="enablenotifybpmchanges" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="checklabel">Notify BPM changes</span>
          </label>

          <label for="enablehpbar" class="checkbox-label">
            <input type="checkbox" id="enablehpbar" name="enablehpbar" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="checklabel">HP bar</span>
          </label>

          <label for="enablekeyoverlay" class="checkbox-label">
            <input type="checkbox" id="enablekeyoverlay" name="enablekeyoverlay" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">Key overlay</span>
          </label>

          <div class="option" id="keyoverlayoptions">
            <label for="keyhidegameui" class="checkbox-label">
              <input type="checkbox" id="keyhidegameui" name="keyhidegameui" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">Hide ingame key overlay</span>
            </label>

            <label for="keyall" class="checkbox-label">
              <input type="checkbox" id="keyall" name="keyall" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">display key buttons</span>
            </label>

            <label for="keyinvert" class="checkbox-label">
              <input type="checkbox" id="keyinvert" name="keyinvert" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">Invert order</span>
            </label>

            <label for="keymerge" class="checkbox-label">
              <input type="checkbox" id="keymerge" name="keymerge" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">Merge<span class="small">&nbsp;(K1 and M1, K2 and M2 is merged.)</span></span>
            </label>

            <div class="inputcontainer">
              <label for="keyX" class="sliderlabel">
                <span>OffsetX:&nbsp;</span><output id="outputkeyX" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keyX" name="keyX" min="-1920" max="1920" step="1" value="0">
              
              <label for="keyY" class="sliderlabel">
                <span>OffsetY:&nbsp;</span><output id="outputkeyY" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keyY" name="keyY" min="-1080" max="1080" step="1" value="0">
              
              <label for="keyrotate" class="sliderlabel">
                <span>Rotate:&nbsp;</span><output id="outputkeyrotate" class="keyslidersoutputs">0</output><span>deg</span>
              </label>
              <input type="range" class="keysliders range" id="keyrotate" name="keyrotate" min="-180" max="180" step="90" value="0">
              
              <label for="keysize" class="sliderlabel">
                <span>Length:&nbsp;</span><output id="outputkeysize" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keysize" name="keysize" min="100" max="1000" step="1" value="0">
              
              <label for="keythickness" class="sliderlabel">
                <span>Thickness:&nbsp;</span><output id="outputkeythickness" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keythickness" name="keythickness" min="0" max="200" step="1" value="0">
              
              <label for="keymargin" class="sliderlabel">
                <span>Margin:&nbsp;</span><output id="outputkeymargin" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keymargin" name="keymargin" min="0" max="50" step="1" value="6">
            </div>
          </div>

          <label for="enabletimingbar" class="checkbox-label">
            <input type="checkbox" id="enabletimingbar" name="enabletimingbar" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">Timing bar</span>
          </label>

          <div class="option" id="timingbaroptions">
            <label for="timinghidegameui" class="checkbox-label">
              <input type="checkbox" id="timinghidegameui" name="timinghidegameui" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">hide ingame timing bar</span>
            </label>

            <label for="timingmoving" class="checkbox-label">
              <input type="checkbox" id="timingmoving" name="timingmoving" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">Moving animation</span>
            </label>

            <label for="timingnormalize" class="checkbox-label">
              <input type="checkbox" id="timingnormalize" name="timingnormalize" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">Normalize<span class="small">&nbsp;(Length is adjusted uniformly)</span></span>
            </label>

            <div class="radiocontainer">
              <span class="label">UR position</span>
              <label for="urposition1" class="radio-label">
                  <input type="radio" id="urposition1" name="urposition" value="top" class="radio-input" checked>
                  <span class="custom-radio"></span>
                  <span class="checklabel">Top</span>
              </label>
              <label for="urposition2" class="radio-label">
                  <input type="radio" id="urposition2" name="urposition" value="bottom" class="radio-input">
                  <span class="custom-radio"></span>
                  <span class="checklabel">Bottom</span>
              </label>
            </div>

            <div class="inputcontainer">
              <label for="timingX" class="sliderlabel">
                <span>OffsetX:&nbsp;</span><output id="outputtimingX" class="timingslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="timingsliders range" id="timingX" name="timingX" min="-1920" max="1920" step="1" value="0">
              
              <label for="timingY" class="sliderlabel">
                <span>OffsetY:&nbsp;</span><output id="outputtimingY" class="timingslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="timingsliders range" id="timingY" name="timingY" min="-1080" max="1080" step="1" value="0">
              
              <label for="timingrotate" class="sliderlabel">
                <span>Rotate:&nbsp;</span><output id="outputtimingrotate" class="timingslidersoutputs">0</output><span>deg</span>
              </label>
              <input type="range" class="timingsliders range" id="timingrotate" name="timingrotate" min="-180" max="180" step="90" value="0">

              <label for="timingsize" class="sliderlabel">
                <span>Scale:&nbsp;</span><output id="outputtimingsize" class="timingslidersoutputs">1</output><span>x</span>
              </label>
              <input type="range" class="timingsliders range" id="timingsize" name="timingsize" min="0.5" max="4" step="0.1" value="0">
              
              <label for="timingspeed" class="sliderlabel">
                <span>Speed:&nbsp;</span><output id="outputtimingspeed" class="timingslidersoutputs">1</output><span>x</span>
              </label>
              <input type="range" class="timingsliders range" id="timingspeed" name="timingspeed" min="0.5" max="2" step="0.1" value="0">
            </div>
          </div>

          <label for="enablevoid" class="checkbox-label">
            <input type="checkbox" id="enablevoid" name="enablevoid" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel"><span class="small">(Unimplemented yet.)</span></span>
          </label>

          <div class="small" id="version" style="position: absolute; right: 20px; bottom: 0; display: none;">paradox v1.0.0</div>

    </form>
    <div id="main">
      <audio id="audio"><source src="" type="audio/mpeg"></audio>
      <div id="audioerror">The audio could not be read for some reason.</div>
      <span id="consolevalue"></span>
      <div id="analyzer">
        <div id="profilewrapper">
          <div id="ppcontainer"></div>
          <div id="mods"></div>
          <div id="progress"></div>
          <canvas id="clock" width="76" height="76"></canvas>
          <img id="grade" alt="">
          <canvas id="avatar" width="512" height="512"></canvas>
          <canvas id="panelbackground" width="1740" height="300"></canvas>
          <div id="paddingleft">
            <div style="position: relative;"><span id="item1"><span id="score"></span></span></div>
            <div style="position: relative;"><span id="item2"></span></div>
            <div style="position: relative;"><span id="item3"></span><span id="item4"></span></div>
          </div>
          <div id="paddingright">
            <div style="position: relative;"><span id="box1">+ 0</span></div>
            <div style="position: relative;"><span id="box2">+ 0</span></div>
            <div style="position: relative;"><span id="boxcontainer"><span id="box3">+ <span class="countrank">0</span></span><span id="box4">+ <span class="countrank">0</span></span></span></div>
          </div>
        </div>
        <div id="profiledetail">
          <div id="detailleft">
            <div style="position: relative;"><span id="detailitem1"></span></div>
            <div style="position: relative;"><span id="detailitem2"></span></div>
            <div style="position: relative;"><span id="detailitem3"></span></div>
            <div style="position: relative;"><span id="detailitem4"></span></div>
            <div style="position: relative;"><span id="detailitem5"></span></div>
          </div>
          <div id="detailright">
            <div style="position: relative;"><span id="detailbox1">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox2">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox3">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox4">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox5">+ 0</span></div>
          </div>
          <div id="reset"></div>
        </div>
      </div>
      <div id="mapwrapper">
        <canvas id="artwork" width="1080" height="1080"></canvas>
        <div id="audiostatus"></div>
        <div id="artworkdim"></div>
        <div id="bannerwrapper">
          <canvas id="triangles" width="680" height="120"></canvas>
          <canvas id="banner" width="680" height="120"></canvas>
          <div id="bannermask"></div>
        </div>
        
        <div id="mapcontainer" class="fadeleft">
          <div id="artistcontainer">
            <span id="artist"></span>
          </div>
          <div id="titlecontainer">
            <span id="title"></span>
          </div>
          <div id="diffcontainer">
            <div id="diff"><span id="gamemode"></span>&nbsp;<span id="difflavel"></span><span class="margin" id="totaltime"></span></div>
            &nbsp;<div class="mapRank"><span id="mapRank"></span></div>
            <span id="mapper"><span></div>
          </div>
        </div>
      </div>
      <div id="mapdetailcontainer" class="fadetop">
        <div id="mapdetail" class="fadetop">
          <div id="mapdetailleft">
            <div id="cscontainer"><span class="colored marginright hilight">CS</span><span id="cs"></span></div>
            <div id="arcontainer"><span class="colored marginright hilight">AR</span><span id="ar"></span></div>
          </div>
          <div id="srcontainer">
            <div id="starrating">
              <div id="starratinggradient"></div>
              <span id="star"></span><span id="sr"></span>
            </div>
          </div>
          <div id="mapdetailright">
            <div id="odcontainer"><span class="colored marginright hilight">OD</span><span id="od"></span></div>
            <div id="hpcontainer"><span class="colored marginright hilight">HP</span><span id="hp"></span></div>
          </div>
        </div>
      </div>
      <div id="cornershadow"></div>
      <canvas id="uihide" width="1920" height="1082"></canvas>
      <div id="backgroundwrapper">
        <canvas id="background" width="1920" height="1080"></canvas>
      </div>
      <canvas id="glCanvas" width="1920" height="1080"></canvas>
      <canvas id="visualizer" width="840" height="210"></canvas>
    </div>
    <div id="gameoverlay">
      <div id="window">
        <div id="bpmcontainer"><span id="bpm">?</span><span class="colored hilight" style="font-size: 0.42rem; font-weight: 700; letter-spacing: 3px;">&nbsp;BPM</span></div>
        <div id="currentbpm"></div>
        <div id="hpraw"></div>
        <div id="combocontainer">
          <div id="combo"></div>
          <div id="comboflash"></div>
        </div>
      </div>
      <div id="key">
        <canvas id="keyoverlay"></canvas>
        <div id="keycounts">
          <div id="keycount1"></div>
          <div id="k1"></div>
          <div id="k1light"></div>
          <div id="keycount2"></div>
          <div id="k2"></div>
          <div id="k2light"></div>
          <div id="keycount3"></div>
          <div id="k3"></div>
          <div id="k3light"></div>
          <div id="keycount4"></div>
          <div id="k4"></div>
          <div id="k4light"></div>
        </div>
      </div>
      <div id="timing">
        <canvas id="timingbar"></canvas>
        <div id="hiterroraverage"><div id="marker"></div></div>
        <div id="urcontainer"><span class="colored marginright hilight">UR</span><span id="ur"></span></div>
        <div id="ahead">+</div>
        <div id="late">-</div>
      </div>
    </div>
  </div>
  <script src="scripts/values.js"></script>
  <script src="scripts/functions.js"></script>
  <script src="scripts/triangles.js"></script>
  <script src="scripts/form.js"></script>
  <script src="scripts/webgl.js"></script>
  <script src="scripts/shader.js"></script>
  <script src="scripts/visualizer.js"></script>
  <script src="scripts/timing.js"></script>
  <script src="scripts/key.js"></script>
  <script src="scripts/reconnecting-websocket.min.js"></script>
  <script src="scripts/main.js"></script>
</body>
</html>