<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@100..900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
  <link rel="stylesheet" href="css/form.css"/>
  <title>paradox</title>
</head>
<body>
  <div id="overlay">
    <div id="startup">
      <div id="textfield">
        <div id="paradox">paradox</div>
        <div>・ブラウザソースを右クリックし、対話(操作)をクリックするとウィンドウが開きます。そちらからオーバーレイを操作できます。</div>
        <div>・ウィンドウ内でクリックすると、設定画面が開きます。</div>
        <div>・右上のパネルをクリックすると、少し詳細にプレイヤー情報が確認できます。(設定画面より、APIキーの設定が必要です。)</div>
        <div>・パネルの右の数字は増減値です。最初は0が基準になっているので、パネル詳細を開いて  をクリックし、現在の数字にリセットしてください。</div>
      </div>
      <form id="startupbottom">
        <label for="Dontshow" id="Dontshowcontainer" class="checkbox-label">
          <input type="checkbox" id="Dontshow" name="Dontshow" class="checkbox-input">
          <span id="Dontshowlabel" class="checklabel">次回から表示しない</span>
        </label>
        <button id="continue" class="custom-button">OK</button>
      </form>
    </div>
    <form id="setting">

      <p>General</p>

          <div id="tag">
            <span id="version"></span>
            <span id="islatest"></span>
            <span id="reader"></span>
          </div>

          <label for="apikey" class="textbox">
            <span class="label">osu! APIキー</span>
            <input type="password" id="apikey" onkeydown="handleKeyPress(event)" value="">
            <span id="apiconnect"></span>
          </label>

          <div class="commontext small">(osu!のウェブサイトのアカウント設定からレガシーAPIを登録すると入手できます。)</div>

          <div class="radiocontainer">
            <span class="label">テーマカラー</span>
            <label for="Accentauto" class="radio-label">
                <input type="radio" id="Accentauto" name="accentColor" value="auto" class="radio-input" checked>
                <span class="custom-radio"></span>
                <span class="checklabel">自動</span>
            </label>
            <label for="Accentcustom" class="radio-label">
                <input type="radio" id="Accentcustom" name="accentColor" value="custom" class="radio-input">
                <span class="custom-radio"></span>
                <span class="checklabel">カスタム</span>
            </label>
          </div>
      
          <div class="inputcontainer" id="rgbpalette">
            <label for="Rslider" class="sliderlabel">R: <output id="outputR" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Rslider" name="Rslider" min="0" max="255" step="1" value="100">
          
            <label for="Gslider" class="sliderlabel">G: <output id="outputG" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Gslider" name="Gslider" min="0" max="255" step="1" value="100">
          
            <label for="Bslider" class="sliderlabel">B: <output id="outputB" class="colorslidersoutputs">100</output></label>
            <input type="range" class="colorsliders range" id="Bslider" name="Bslider" min="0" max="255" step="1" value="100">
          </div>

          <label for="custompanelbg" class="textbox">
            <span class="label">パネルの背景<span class="small" style="display: none;">&nbsp;(Large files cannot be saved.)</span></span>
            <input type="file" class="file" name="custompanelbg" id="custompanelbg" style="display: none;">
            <span id="wrap"><span id="custompanelbgfilename" class="filename"></span></span>
            <span id="custompanelbgreset" class="file-reset-button"></span>
            <span for="custompanelbg" class="file-input-button">...</span>
            <span id="fileuploaded"></span>
          </label>

          <label for="enablehideinterface" class="checkbox-label">
            <input type="checkbox" id="enablehideinterface" name="enablehideinterface" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel">プレイ中以外はUIを隠す</span>
          </label>

      <hr>

      <p>In Game</p>

          <label for="enablebackground" class="checkbox-label">
            <input type="checkbox" id="enablebackground" name="enablebackground" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">背景</span>
          </label>

          <div class="option" id="backgroundoptions">
            <label for="backgroundnormalizebrightness" class="checkbox-label">
              <input type="checkbox" id="backgroundnormalizebrightness" name="backgroundnormalizebrightness" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">明るさを揃える<span class="small">&nbsp;(推奨)</span></span>
            </label>

            <div class="inputcontainer">
              <label for="backgroundopacity" class="sliderlabel">
                <span>透明度:&nbsp;</span><output id="outputopacity" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(デフォルト: 30)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="opacity" name="opacity" min="0" max="100" step="1" value="0">
            
              <label for="backgroundblur" class="sliderlabel">
                <span>ぼかし半径:&nbsp;</span><output id="outputblur" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(デフォルト: 10)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="blur" name="blur" min="0" max="20" step="0.1" value="0">
              
              <label for="backgroundcontrast" class="sliderlabel">
                <span>コントラスト:&nbsp;</span><output id="outputcontrast" class="backgroundslidersoutputs">0</output><span class="small">&nbsp;(デフォルト: 0.7)</span>
              </label>
              <input type="range" class="backgroundsliders range" id="contrast" name="contrast" min="0" max="1" step="0.01" value="0">
            </div>
          </div>

          <label for="enableaudiovisualizer" class="checkbox-label">
            <input type="checkbox" id="enableaudiovisualizer" name="enableaudiovisualizer" class="checkbox-input">
            <span class="custom-checkbox"></span>
            <span class="checklabel">音声の波形を表示</span>
          </label>

          <label for="enablenotifybpmchanges" class="checkbox-label">
            <input type="checkbox" id="enablenotifybpmchanges" name="enablenotifybpmchanges" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="checklabel">BPMの変更時に中央に表示する</span>
          </label>

          <label for="enablehpbar" class="checkbox-label">
            <input type="checkbox" id="enablehpbar" name="enablehpbar" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="checklabel">HPバー</span>
          </label>

          <label for="enablekeyoverlay" class="checkbox-label">
            <input type="checkbox" id="enablekeyoverlay" name="enablekeyoverlay" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">キーオーバーレイ</span>
          </label>

          <div class="option" id="keyoverlayoptions">
            <label for="keyhidegameui" class="checkbox-label">
              <input type="checkbox" id="keyhidegameui" name="keyhidegameui" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">ゲーム内のキーオーバーレイを隠す</span>
            </label>

            <label for="keyall" class="checkbox-label">
              <input type="checkbox" id="keyall" name="keyall" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">キー部分を表示する</span>
            </label>

            <label for="keyinvert" class="checkbox-label">
              <input type="checkbox" id="keyinvert" name="keyinvert" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">順番を入れ替える</span>
            </label>

            <label for="keymerge" class="checkbox-label">
              <input type="checkbox" id="keymerge" name="keymerge" class="checkbox-input">
              <span class="custom-checkbox"></span>
              <span class="checklabel">統合する<span class="small">&nbsp;(K1とM1、K2とM2が統合されます)</span></span>
            </label>

            <div class="inputcontainer">
              <label for="keyX" class="sliderlabel">
                <span>X座標:&nbsp;</span><output id="outputkeyX" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keyX" name="keyX" min="-1920" max="1920" step="1" value="0">
              
              <label for="keyY" class="sliderlabel">
                <span>Y座標:&nbsp;</span><output id="outputkeyY" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keyY" name="keyY" min="-1080" max="1080" step="1" value="0">
              
              <label for="keyrotate" class="sliderlabel">
                <span>回転:&nbsp;</span><output id="outputkeyrotate" class="keyslidersoutputs">0</output><span>deg</span>
              </label>
              <input type="range" class="keysliders range" id="keyrotate" name="keyrotate" min="-180" max="180" step="90" value="0">
              
              <label for="keysize" class="sliderlabel">
                <span>長さ:&nbsp;</span><output id="outputkeysize" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keysize" name="keysize" min="100" max="1000" step="1" value="0">
              
              <label for="keythickness" class="sliderlabel">
                <span>太さ:&nbsp;</span><output id="outputkeythickness" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keythickness" name="keythickness" min="0" max="200" step="1" value="0">
              
              <label for="keymargin" class="sliderlabel">
                <span>間隔:&nbsp;</span><output id="outputkeymargin" class="keyslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="keysliders range" id="keymargin" name="keymargin" min="0" max="50" step="1" value="6">
            </div>
          </div>

          <label for="enabletimingbar" class="checkbox-label">
            <input type="checkbox" id="enabletimingbar" name="enabletimingbar" class="checkbox-input" checked>
            <span class="custom-checkbox"></span>
            <span class="optionbutton"></span><span class="checklabel">タイミングバー</span>
          </label>

          <div class="option" id="timingbaroptions">
            <label for="timinghidegameui" class="checkbox-label">
              <input type="checkbox" id="timinghidegameui" name="timinghidegameui" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">ゲーム内のタイミングバーを隠す</span>
            </label>

            <label for="timingmoving" class="checkbox-label">
              <input type="checkbox" id="timingmoving" name="timingmoving" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">アニメーションする</span>
            </label>

            <label for="timingnormalize" class="checkbox-label">
              <input type="checkbox" id="timingnormalize" name="timingnormalize" class="checkbox-input" checked>
              <span class="custom-checkbox"></span>
              <span class="checklabel">長さを均一にする<span class="small">&nbsp;</span></span>
            </label>

            <div class="radiocontainer">
              <span class="label">URの位置</span>
              <label for="urposition1" class="radio-label">
                  <input type="radio" id="urposition1" name="urposition" value="top" class="radio-input" checked>
                  <span class="custom-radio"></span>
                  <span class="checklabel">上</span>
              </label>
              <label for="urposition2" class="radio-label">
                  <input type="radio" id="urposition2" name="urposition" value="bottom" class="radio-input">
                  <span class="custom-radio"></span>
                  <span class="checklabel">下</span>
              </label>
            </div>

            <div class="inputcontainer">
              <label for="timingX" class="sliderlabel">
                <span>X座標:&nbsp;</span><output id="outputtimingX" class="timingslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="timingsliders range" id="timingX" name="timingX" min="-1920" max="1920" step="1" value="0">
              
              <label for="timingY" class="sliderlabel">
                <span>Y座標:&nbsp;</span><output id="outputtimingY" class="timingslidersoutputs">0</output><span>px</span>
              </label>
              <input type="range" class="timingsliders range" id="timingY" name="timingY" min="-1080" max="1080" step="1" value="0">
              
              <label for="timingrotate" class="sliderlabel">
                <span>回転:&nbsp;</span><output id="outputtimingrotate" class="timingslidersoutputs">0</output><span>deg</span>
              </label>
              <input type="range" class="timingsliders range" id="timingrotate" name="timingrotate" min="-180" max="180" step="90" value="0">

              <label for="timingsize" class="sliderlabel">
                <span>サイズ:&nbsp;</span><output id="outputtimingsize" class="timingslidersoutputs">1</output><span>x</span>
              </label>
              <input type="range" class="timingsliders range" id="timingsize" name="timingsize" min="0.5" max="4" step="0.1" value="0">
              
              <label for="timingspeed" class="sliderlabel">
                <span>速度:&nbsp;</span><output id="outputtimingspeed" class="timingslidersoutputs">1</output><span>x</span>
              </label>
              <input type="range" class="timingsliders range" id="timingspeed" name="timingspeed" min="0.5" max="2" step="0.1" value="0">
            </div>
          </div>

    </form>
    <div id="main">
      <div id="audioerror">The audio could not be read for some reason.</div>
      <span id="consolevalue"></span>
      <div id="analyzer">
        <div id="profilewrapper">
          <div id="ppcontainer"></div>
          <div id="mods"></div>
          <div id="progress"></div>
          <canvas id="clock" width="76" height="76"></canvas>
          <img id="grade" alt="">
          <canvas id="avatar" width="512" height="512"></canvas>
          <canvas id="panelbackground" width="1740" height="300"></canvas>
          <div id="paddingleft">
            <div style="position: relative;"><span id="item1"><span id="score"></span></span></div>
            <div style="position: relative;"><span id="item2"></span></div>
            <div style="position: relative;"><span id="item3"></span><span id="item4"></span></div>
          </div>
          <div id="paddingright">
            <div style="position: relative;"><span id="box1">+ 0</span></div>
            <div style="position: relative;"><span id="box2">+ 0</span></div>
            <div style="position: relative;"><span id="boxcontainer"><span id="box3">+ <span class="countrank">0</span></span><span id="box4">+ <span class="countrank">0</span></span></span></div>
          </div>
        </div>
        <div id="profiledetail">
          <div id="detailleft">
            <div style="position: relative;"><span id="detailitem1"></span></div>
            <div style="position: relative;"><span id="detailitem2"></span></div>
            <div style="position: relative;"><span id="detailitem3"></span></div>
            <div style="position: relative;"><span id="detailitem4"></span></div>
            <div style="position: relative;"><span id="detailitem5"></span></div>
          </div>
          <div id="detailright">
            <div style="position: relative;"><span id="detailbox1">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox2">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox3">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox4">+ 0</span></div>
            <div style="position: relative;"><span id="detailbox5">+ 0</span></div>
          </div>
          <div id="reset"></div>
        </div>
      </div>
      <div id="mapwrapper">
        <canvas id="artwork" width="1080" height="1080"></canvas>
        <div id="audiostatus"></div>
        <div id="artworkdim"></div>
        <div id="bannerwrapper">
          <canvas id="triangles" width="680" height="150"></canvas>
          <canvas id="banner" width="680" height="120"></canvas>
          <div id="bannermask"></div>
        </div>
        
        <div id="mapcontainer" class="fadeleft">
          <div id="artistcontainer">
            <span id="artist"></span>
          </div>
          <div id="titlecontainer">
            <span id="title"></span>
          </div>
          <div id="diffcontainer">
            <div id="diff"><span id="gamemode"></span>&nbsp;<span id="difflavel"></span><span class="margin" id="totaltime"></span></div>
            &nbsp;<div class="mapRank"><span id="mapRank"></span></div>
            <span id="mapper"><span></div>
          </div>
        </div>
      </div>
      <div id="mapdetailcontainer" class="fadetop">
        <div id="mapdetail" class="fadetop">
          <div id="mapdetailleft">
            <div id="cscontainer"><span class="colored marginright hilight">CS</span><span id="cs"></span></div>
            <div id="arcontainer"><span class="colored marginright hilight">AR</span><span id="ar"></span></div>
          </div>
          <div id="srcontainer">
            <div id="starrating">
              <div id="starratinggradient"></div>
              <span id="star"></span><span id="sr"></span>
            </div>
          </div>
          <div id="mapdetailright">
            <div id="odcontainer"><span class="colored marginright hilight">OD</span><span id="od"></span></div>
            <div id="hpcontainer"><span class="colored marginright hilight">HP</span><span id="hp"></span></div>
          </div>
        </div>
      </div>
      <div id="cornershadow"></div>
      <canvas id="uihide" width="1920" height="1082"></canvas>
      <div id="backgroundwrapper">
        <canvas id="background" width="1920" height="1080"></canvas>
      </div>
      <canvas id="glCanvas" width="1920" height="1080"></canvas>
      <canvas id="visualizer" width="840" height="210"></canvas>
    </div>
    <div id="gameoverlay">
      <div id="window">
        <div id="bpmcontainer"><span id="bpm">?</span><span class="colored hilight" style="font-size: 0.42rem; font-weight: 700; letter-spacing: 3px;">&nbsp;BPM</span></div>
        <div id="currentbpm"></div>
        <div id="hpraw"></div>
        <div id="combocontainer">
          <div id="combo"></div>
          <div id="comboflash"></div>
        </div>
      </div>
      <div id="key">
        <canvas id="keyoverlay"></canvas>
        <div id="keycounts">
          <div id="keycount1"></div>
          <div id="k1"></div>
          <div id="k1light"></div>
          <div id="keycount2"></div>
          <div id="k2"></div>
          <div id="k2light"></div>
          <div id="keycount3"></div>
          <div id="k3"></div>
          <div id="k3light"></div>
          <div id="keycount4"></div>
          <div id="k4"></div>
          <div id="k4light"></div>
        </div>
      </div>
      <div id="timing">
        <canvas id="timingbar"></canvas>
        <div id="hiterroraverage"><div id="marker"></div></div>
        <div id="urcontainer"><span class="colored marginright hilight">UR</span><span id="ur"></span></div>
        <div id="ahead">+</div>
        <div id="late">-</div>
      </div>
    </div>
  </div>
  <script src="scripts/values.js"></script>
  <script src="scripts/audio.js"></script>
  <script src="scripts/functions.js"></script>
  <script src="scripts/triangles.js"></script>
  <script src="scripts/form.js"></script>
  <script src="scripts/webgl.js"></script>
  <script src="scripts/shader.js"></script>
  <script src="scripts/visualizer.js"></script>
  <script src="scripts/timing.js"></script>
  <script src="scripts/key.js"></script>
  <script src="scripts/reconnecting-websocket.min.js"></script>
  <script>
    const WINDOWURL = window.location.href;
    let scriptUrl = '';
    if (WINDOWURL.includes('overlays')) {
        scriptUrl = 'scripts/sc.js';
        document.getElementById('reader').innerHTML = "StreamCompanion";
        document.getElementById('reader').style.background = "linear-gradient(to bottom, #f177a6, #de6d99)";
    } else {
        scriptUrl = 'scripts/tosu.js';
        document.getElementById('reader').innerHTML = "tosu";
        document.getElementById('reader').style.background = "linear-gradient(to bottom, #6cd0f0, #65c2e0)";
    }
    const script = document.createElement('script');
    script.src = scriptUrl;
    document.body.appendChild(script);
</script>
</body>
</html>